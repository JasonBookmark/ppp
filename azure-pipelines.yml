# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml


trigger:
  - master

stages:
- stage: build
  jobs:
    - job: build
      pool:
        vmImage: 'vs2017-win2016'
      steps:
      - task: CacheBeta@0
        inputs:
          key: npm | $(Agent.OS) | webapp/package.json
          path: webapp/node_modules
        displayName: Cache node_modules
      - script: python build.py --test
      - script: python build.py --web --test


